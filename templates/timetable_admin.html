<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Manage Timetable</title>
 <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
</head>
<style>
.diacard {
      width: 360px;
	  max-width: 90%;
      background:linear-gradient(90deg,#64C4FF ,#357abd);
	padding :24px 32px;
     border-radius:12px;
	 border: 1px solid rgba(0, 255, 0,0.2);
	 box-shadow: 0 8px 30px rgba(255, 255, 255, 0.2);
      transform-style: preserve-3d;
      perspective: 1000px;
	  animation: fadeIn 1s ease;
	 
    }
	h3 {
      color: white;
     
      
    }
</style>
<body>
<header>
    <div class="brand">
      <div class="logo">
        <img src="{{ url_for('static', filename='images/cat.png') }}" alt="Cat Logo">
      </div>
     <h1> Admin â€“ Timetable</h1>
    </div>
	<nav>
  <a href="{{ url_for('admin_dashboard') }}">Back to Admin</a></nav>
  </header>
 
  <form method="POST">
    <label>Day of week</label>
    <select name="day_of_week" required>
      <option value="0">Mon</option>
      <option value="1">Tue</option>
      <option value="2">Wed</option>
      <option value="3">Thu</option>
      <option value="4">Fri</option>
      <option value="5">Sat</option>
      <option value="6">Sun</option>
    </select>
    <label>Title</label><input name="title" required />
    <label>Start</label><input type="time" name="start_time" required />
    <label>End</label><input type="time" name="end_time" required />
    <label>Teacher</label><input name="teacher" />
    <label>Location</label><input name="location" />
    <label>Notes</label><input name="notes" />
    <button type="submit">Add Entry</button>
  </form>

  <h2>Existing Entries</h2>
  <table>
    <tr><th>Day</th><th>Time</th><th>Title</th><th>Teacher</th><th>Location</th><th>Notes</th><th>Delete</th></tr>
    {% for e in entries %}
    <tr>
      <td>{{ ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][e['day_of_week']] }}</td>
      <td>{{ e['start_time'] }} - {{ e['end_time'] }}</td>
      <td>{{ e['title'] }}</td>
      <td>{{ e['teacher'] or '-' }}</td>
      <td>{{ e['location'] or '-' }}</td>
      <td>{{ e['notes'] or '' }}</td>
      <td><a href="{{ url_for('timetable_delete', entry_id=e['id']) }}" onclick="return confirm('Delete entry?');">Delete</a></td>
    </tr>
    {% endfor %}
  </table>

 
</body>
<script src="{{ url_for('static',filename='js/dialog.js')}}"></script>
<script>
const msgs = {{ get_flashed_messages() | tojson }};
msgs.forEach(m => { alertCustom(m);});
</script>
</html>
